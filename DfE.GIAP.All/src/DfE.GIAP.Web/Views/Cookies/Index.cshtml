@model CookiePreferencesViewModel
@{
    ViewData["Title"] = "Cookies";
}

<h1 class="govuk-heading-xl">Cookies</h1>

<div>
    <p class="govuk-body">Cookies are small files saved on your phone, tablet or computer whenever you visit a website.</p>
    <p class="govuk-body">We use cookies to make this site work and collect information about you use our service.</p>
</div>

<div>
    <h3 class="govuk-heading-m">Measuring website usage</h3>
    <p class="govuk-body">
        We use Microsoft Azure Application Insights software to collect anonymised information about how you use GIAP.
        We do this to help make sure the site is meeting the needs of its users and to help us make improvements to the site and to government digital services.
    </p>

    <div class="govuk-inset-text">
        We do not allow Microsoft to use or share the data about how you use this site.
    </div>

    <p class="govuk-body">
        Microsoft Azure Application Insights stores information about:
    </p>
    <ul class="govuk-list govuk-list--bullet">
        <li>how you got to the site</li>
        <li>the pages you visit on GIAP and how long you spend on them</li>
        <li>what you click on while you’re visiting the site</li>
    </ul>
    <p class="govuk-body">
        Microsoft Azure Application Insights sets the following cookies
    </p>

    <table class="govuk-table">
        <thead class="govuk-table__head">
            <tr class="govuk-table__row">
                <th scope="col" class="govuk-table__header">Name</th>
                <th scope="col" class="govuk-table__header">Purpose</th>
                <th scope="col" class="govuk-table__header">Expires</th>
            </tr>
        </thead>
        <tbody class="govuk-table__body">
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">ai_user</th>
                <td class="govuk-table__cell">These help us count how many people visit GIAP by tracking if you’ve visited before</td>
                <td class="govuk-table__cell">28 Days</td>
            </tr>
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">ai_session</th>
                <td class="govuk-table__cell">These help us understand your activity while visiting the GIAP service</td>
                <td class="govuk-table__cell">24 Hours</td>
            </tr>
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">giapwebsiteuse</th>
                <td class="govuk-table__cell">Remembers your website use cookie preference</td>
                <td class="govuk-table__cell">28 Days</td>
            </tr>
        </tbody>
    </table>
</div>
<br />

<div>
    <h3 class="govuk-heading-m">Microsoft Clarity</h3>
    <p class="govuk-body">
        We use Microsoft Clarity software to collect information about how you use GIAP. We do this to help make sure the site is meeting the needs of its users and to help us make improvements, for example <a class="govuk-link" href="https://insidegovuk.blog.gov.uk/2015/03/26/new-tool-to-see-trending-searches/" target="_blank" rel="noopener noreferrer">improving site search</a>. We also send cross-domain tracking information to GOV.UK to help us understand and monitor performance data across multiple public services.
    </p>
    <p class="govuk-body">
        Microsoft Clarity stores information about:
    </p>
    <ul class="govuk-list govuk-list--bullet">
        <li>the pages you visit on GIAP</li>
        <li>how long you spend on each GIAP page</li>
        <li>how you got to the site</li>
        <li>what you click on while you're visiting the site</li>
    </ul>
    <p class="govuk-body">
        We don't collect or store your personal information (for example your name or address) so this information can't be used to identify who you are.
    </p>
    <p class="govuk-body">
        We don't allow Microsoft to use or share our analytics data.
    </p>
    <p class="govuk-body">
        Microsoft sets the following cookies:
    </p>

    <table class="govuk-table">
        <thead class="govuk-table__head">
            <tr class="govuk-table__row">
                <th scope="col" class="govuk-table__header">Name</th>
                <th scope="col" class="govuk-table__header">Purpose</th>
                <th scope="col" class="govuk-table__header">Expires</th>
            </tr>
        </thead>
        <tbody class="govuk-table__body">
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">_clck</th>
                <td class="govuk-table__cell">Persists the Clarity User ID and preferences, unique to that site is attributed to the same user ID.</td>
                <td class="govuk-table__cell">1 year</td>
            </tr>
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">_clsk</th>
                <td class="govuk-table__cell">Connects multiple page views by a user into a single Clarity session recording.</td>
                <td class="govuk-table__cell">1 day</td>
            </tr>
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">CLID</th>
                <td class="govuk-table__cell">Identifies the first-time Clarity saw this user on any site using Clarity.</td>
                <td class="govuk-table__cell">1 year</td>
            </tr>
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">ANONCHK</th>
                <td class="govuk-table__cell">Indicates whether MUID is transferred to ANID, a cookie used for advertising. Clarity doesn't use ANID and so this is always set to 0.</td>
                <td class="govuk-table__cell">10 minutes</td>
            </tr>
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">MR</th>
                <td class="govuk-table__cell">Indicates whether to refresh MUID.</td>
                <td class="govuk-table__cell">7 days</td>
            </tr>
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">MUID</th>
                <td class="govuk-table__cell">Identifies unique web browsers visiting Microsoft sites. These cookies are used for advertising, site analytics, and other operational purposes.</td>
                <td class="govuk-table__cell">1 year</td>
            </tr>
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">SM</th>
                <td class="govuk-table__cell">Used in synchronizing the MUID across Microsoft domains.</td>
                <td class="govuk-table__cell">End of session</td>
            </tr>
        </tbody>
    </table>
</div>
<br />

<div>
    <h3 class="govuk-heading-m">Google Analytics</h3>
    <p class="govuk-body">
        We also use Google Analytics to collect information about how you use GIAP. We do this to help make sure the site is meeting the needs of its users and to help us make improvements, for example improving site search. We also send cross-domain tracking information to GOV.UK to help us understand and monitor performance data across multiple public services.
    </p>
    <p class="govuk-body">
        Google Analytics stores information about:
    </p>
    <ul class="govuk-list govuk-list--bullet">
        <li>the pages you visit on GIAP</li>
        <li>how long you spend on each GIAP page</li>
        <li>how you got to the site</li>
        <li>what you click on while you're visiting the site</li>
    </ul>
    <p class="govuk-body">
        We don't collect or store your personal information (for example your name or address) so this information can't be used to identify who you are.
    </p>
    <p class="govuk-body">
        We don't allow Google to use or share our analytics data.
    </p>
    <p class="govuk-body">
        Google Analytics sets the following cookies:
    </p>

    <table class="govuk-table">
        <thead class="govuk-table__head">
            <tr class="govuk-table__row">
                <th scope="col" class="govuk-table__header">Name</th>
                <th scope="col" class="govuk-table__header">Purpose</th>
                <th scope="col" class="govuk-table__header">Expires</th>
            </tr>
        </thead>
        <tbody class="govuk-table__body">
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">_ga</th>
                <td class="govuk-table__cell">This helps us count how many people visit GOV.UK by tracking if you've visited before</td>
                <td class="govuk-table__cell">2 years</td>
            </tr>
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">_gat</th>
                <td class="govuk-table__cell">Used to manage the rate at which page view requests are made</td>
                <td class="govuk-table__cell">10 minutes</td>
            </tr>
        </tbody>
    </table>
    <p class="govuk-body">
        You can <a class="govuk-link" href="https://tools.google.com/dlpage/gaoptout" target="_blank" rel="noopener noreferrer">opt out of Google Analytics cookies</a>.
    </p>
</div>
<br />

<div>
    <h3 class="govuk-heading-m">Marketing and communications</h3>
    <p class="govuk-body">These cookies may be set by third party websites linked to our service.</p>
    <table class="govuk-table">
        <thead class="govuk-table__head">
            <tr class="govuk-table__row">
                <th scope="col" class="govuk-table__header">Name</th>
                <th scope="col" class="govuk-table__header">Purpose</th>
                <th scope="col" class="govuk-table__header">Expires</th>
            </tr>
        </thead>
        <tbody class="govuk-table__body">
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">giapcomms</th>
                <td class="govuk-table__cell">Remembers your communications and marketing cookie preference</td>
                <td class="govuk-table__cell">28 Days</td>
            </tr>
        </tbody>
    </table>
</div>
<br />

<div>
    <h3 class="govuk-heading-m">Remember your settings</h3>
    <table class="govuk-table">
        <thead class="govuk-table__head">
            <tr class="govuk-table__row">
                <th scope="col" class="govuk-table__header">Name</th>
                <th scope="col" class="govuk-table__header">Purpose</th>
                <th scope="col" class="govuk-table__header">Expires</th>
            </tr>
        </thead>
        <tbody class="govuk-table__body">
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">giaphidecookiesacceptedbanner</th>
                <td class="govuk-table__cell">Remembers if you have hidden the grey cookies accepted banner</td>
                <td class="govuk-table__cell">28 Days</td>
            </tr>
        </tbody>
    </table>
</div>
<br />

<div>
    <h3 class="govuk-heading-m">Strictly necessary</h3>
    <table class="govuk-table">
        <thead class="govuk-table__head">
            <tr class="govuk-table__row">
                <th scope="col" class="govuk-table__header">Name</th>
                <th scope="col" class="govuk-table__header">Purpose</th>
                <th scope="col" class="govuk-table__header">Expires</th>
            </tr>
        </thead>
        <tbody class="govuk-table__body">
            <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">connect.sid</th>
                <td class="govuk-table__cell">Remembers the choices you make while active on the GIAP service</td>
                <td class="govuk-table__cell">Expires if you are inactive on the service for more than 30 minutes</td>
            </tr>
        </tbody>
    </table>
</div>
<br />

<div>
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
            <h2 class="govuk-heading-l">Change your cookie settings</h2>
            <form asp-controller="Cookies" asp-action="CookiePreferences" method="POST">
                @Html.AntiForgeryToken();
                <div class="govuk-form-group">
                    <fieldset class="govuk-fieldset">
                        <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">
                            Do you want to accept analytics cookies?
                        </legend>
                        <div class="govuk-radios" data-module="govuk-radios">
                            <div class="govuk-radios govuk-radios--inline" data-module="govuk-radios">
                                <div class="govuk-radios__item">
                                    @if (Model.CookieUse.IsCookieWebsiteUse)
                                    {
                                        <input class="govuk-radios__input"
                                               id="cookie-preferences--website-use-on--radio-button"
                                               asp-for="CookieUse.CookieWebsiteUse"
                                               name="cookieWebsiteUse"
                                               type="radio"
                                               value="true"
                                               checked />
                                        <label class="govuk-label govuk-radios__label" id="cookie-preferences--website-use-on--label" for="cookie-preferences--website-use-on--radio-button">
                                            On
                                        </label>
                                    }
                                    else
                                    {
                                        <input class="govuk-radios__input"
                                               id="cookie-preferences--website-use-on--radio-button"
                                               asp-for="CookieUse.CookieWebsiteUse"
                                               name="cookieWebsiteUse"
                                               type="radio"
                                               value="true" />
                                        <label class="govuk-label govuk-radios__label" id="cookie-preferences--website-use-on--label" for="cookie-preferences--website-use-on--radio-button">
                                            On
                                        </label>
                                    }
                                </div>
                                <div class="govuk-radios__item">
                                    @if (!Model.CookieUse.IsCookieWebsiteUse)
                                    {
                                        <input class="govuk-radios__input"
                                               id="cookie-preferences--website-use-off--radio-button"
                                               asp-for="CookieUse.CookieWebsiteUse"
                                               name="cookieWebsiteUse"
                                               type="radio"
                                               value="false"
                                               checked />
                                        <label id="cookie-preferences--website-use-off--label" class="govuk-label govuk-radios__label" for="cookie-preferences--website-use-off--radio-button">
                                            Off
                                        </label>
                                    }
                                    else
                                    {
                                        <input class="govuk-radios__input"
                                               id="cookie-preferences--website-use-off--radio-button"
                                               asp-for="CookieUse.CookieWebsiteUse"
                                               name="cookieWebsiteUse"
                                               type="radio"
                                               value="false" />
                                        <label id="cookie-preferences--website-use-off--label" class="govuk-label govuk-radios__label" for="cookie-preferences--website-use-off--radio-button">
                                            Off
                                        </label>
                                    }
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>

                <div class="govuk-form-group">
                    <fieldset class="govuk-fieldset">
                        <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">
                            Do you want to accept communications and marketing cookies?
                        </legend>
                        <div class="govuk-radios" data-module="govuk-radios">
                            <div class="govuk-radios govuk-radios--inline" data-module="govuk-radios">
                                <div class="govuk-radios__item">
                                    @if (Model.CookieUse.IsCookieComms)
                                    {
                                        <input class="govuk-radios__input"
                                               id="cookie-preferences--comms-on--radio-button"
                                               asp-for="CookieUse.CookieComms"
                                               name="cookieComms"
                                               value="true"
                                               type="radio"
                                               checked />
                                        <label class="govuk-label govuk-radios__label" id="cookie-preferences--comms-on--label" for="cookie-preferences--comms-on--radio-button">
                                            On
                                        </label>
                                    }
                                    else
                                    {
                                        <input class="govuk-radios__input"
                                               id="cookie-preferences--comms-on--radio-button"
                                               asp-for="CookieUse.CookieComms"
                                               name="cookieComms"
                                               value="true"
                                               type="radio" />
                                        <label class="govuk-label govuk-radios__label" id="cookie-preferences--comms-on--label" for="cookie-preferences--comms-on--radio-button">
                                            On
                                        </label>
                                    }
                                </div>
                                <div class="govuk-radios__item">
                                    @if (!Model.CookieUse.IsCookieComms)
                                    {
                                        <input class="govuk-radios__input"
                                               id="cookie-preferences--comms-off--radio-button"
                                               asp-for="CookieUse.CookieComms"
                                               name="cookieComms"
                                               value="false"
                                               type="radio"
                                               checked />
                                        <label class="govuk-label govuk-radios__label" id="cookie-preferences--comms-off--label" for="cookie-preferences--comms-off--radio-button">
                                            Off
                                        </label>
                                    }
                                    else
                                    {
                                        <input class="govuk-radios__input"
                                               id="cookie-preferences--comms-off--radio-button"
                                               asp-for="CookieUse.CookieComms"
                                               name="cookieComms"
                                               value="false"
                                               type="radio" />
                                        <label class="govuk-label govuk-radios__label" id="cookie-preferences--comms-off--label" for="cookie-preferences--comms-off--radio-button">
                                            Off
                                        </label>
                                    }
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>

                <button type="submit" class="govuk-button" data-module="govuk-button">
                    Save cookie settings
                </button>
            </form>
        </div>
    </div>
</div>
